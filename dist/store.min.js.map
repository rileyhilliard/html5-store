{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","keyHash","CookieStore","Local","Error","item","localStorage","getItem","JSON","parse","data","set","obj","timestamp","Date","now","setItem","stringify","remove","removeItem","Session","includeMeta","arguments","length","undefined","sessionStorage","parsedJSON","_typeof","dataString","_classCallCheck","this","store","expires","date","setTime","getTime","DAYS","writeVal","toUTCString","document","cookie","nameEQ","ca","split","charAt","substring","indexOf","Cookie","PurgeStorage","clear"],"mappings":"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","file":"store.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","const keyHash = key => `tesuto-storage:${key}`;\n\nexport const Local = {\n  get(key) {\n    if (!key) {\n      throw new Error('We need a key to look up data from Local Storage');\n    }\n    const item = localStorage.getItem(keyHash(key));\n    return item ? JSON.parse(item).data : false;\n  },\n\n  set(key, data) {\n    if (!key) {\n      throw new Error('We need a key to set data to Local Storage');\n    }\n\n    const obj = {\n      timestamp: Date.now(),\n      data\n    };\n    return localStorage.setItem(keyHash(key), JSON.stringify(obj));\n  },\n\n  remove(key) {\n    if (!key) {\n      throw new Error('We need a key to look up data from Local Storage');\n    }\n    return localStorage.removeItem(keyHash(key));\n  },\n};\n\nexport const Session = {\n  get(key, includeMeta = false) {\n    if (!key) {\n      throw new Error('We need a key to look up data from Session Storage');\n    }\n    const item = sessionStorage.getItem(keyHash(key));\n    const parsedJSON = item ? JSON.parse(item) : false;\n    if (parsedJSON) {\n      return includeMeta ? parsedJSON : parsedJSON.data;\n    }\n\n    return false;\n  },\n\n  set(key, data) {\n    if (!key) {\n      throw new Error('We need a key to set data to Session Storage');\n    }\n    if (!(typeof data === 'object' || typeof data === 'string')) {\n      throw new Error(`We can only store JS objects or stings to Session Storage. '${typeof data}' was passed in.`);\n    }\n    const dataString = `{\n      \"data\": ${typeof data === 'object' ? JSON.stringify(data) : data},\n      \"meta\": {\n        \"timestamp\": ${Date.now()}\n      }\n    }`;\n\n    return sessionStorage.setItem(keyHash(key), dataString);\n  },\n\n  remove(key) {\n    if (!key) {\n      throw new Error('We need a key to look up data from Local Storage');\n    }\n    return sessionStorage.removeItem(keyHash(key));\n  },\n};\n\nclass CookieStore {\n  constructor() {\n    this.store = {};\n  }\n\n  set(key, value, expires) {\n    const DAYS = 60;\n    let date;\n    if (!key) {\n      throw new Error('We need a key to look up data from the Cookies');\n    }\n    if (!value) {\n      throw new Error('We need a value to store in the Cookie');\n    }\n\n    if (expires) {\n      date = new Date(expires);\n    } else {\n      // Default expiration date is 60 days\n      date = new Date();\n      date.setTime(date.getTime() + (DAYS * 24 * 60 * 60 * 1000));\n    }\n\n    const writeVal = `${key}=${value}; expires=${date.toUTCString()}; path=/`;\n    document.cookie = writeVal;\n\n    // if a cached value exists for this key, delete it.\n    if (this.store[key]) {\n      delete this.store[key];\n    }\n  }\n\n  get(key) {\n    // get cached value if it exists\n    if (this.store[key]) {\n      return this.store[key];\n    }\n    const nameEQ = `${key}=`;\n    const ca = document.cookie.split(';');\n    for (let i=0; i < ca.length; i++) {\n      let c = ca[i];\n      while (c.charAt(0)==' ') c = c.substring(1, c.length);\n      if (c.indexOf(nameEQ) == 0) {\n        // cache the lookup value for faster reads\n        this.store[key] = c.substring(nameEQ.length, c.length);\n        return this.store[key];\n      }\n    }\n    return null;\n  }\n\n  remove(key) {\n    document.cookie = `${key}=; expires=Thu, 01 Jan 1970 00:00:01 GMT;`;\n    // remove val from the internal cache\n    delete this.store[key];\n  }\n}\n\nexport const Cookie = new CookieStore();\n\n// Helper util for clearing all user data.\n// used for logout and data clearning actions, like if an unauthenticated API\n// error is returned\nexport const PurgeStorage = () => {\n  sessionStorage.clear();\n  localStorage.clear();\n  Cookie.remove('authToken');\n};\n"],"sourceRoot":""}